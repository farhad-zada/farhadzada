<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="shortcut icon" href="favicon.ico" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Farhad Seyfullazada | AI Resume Assistant</title>
  <meta property="og:title" content="Farhad Seyfullazada Resume Assistant" />
  <meta property="og:description"
    content="This AI assistant answers questions about Farhad Seyfullazada's resume and provides information about his skills, experience, and projects." />
  <meta property="og:image" content="og-image.png" />
  <meta property="og:url" content="https://farhadzada.com" />
  <meta property="og:type" content="website" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #2563eb;
      --primary-dark: #1d4ed8;
      --secondary: #7e22ce;
      --accent: #06b6d4;
      --light: #f8fafc;
      --dark: #1e293b;
      --gray: #64748b;
      --light-gray: #e2e8f0;
      --success: #10b981;
      --warning: #f59e0b;
      --error: #ef4444;
      --radius: 12px;
      --shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      height: 100vh;
      display: flex;
      flex-direction: column;
      background: linear-gradient(135deg, #f0f4ff 0%, #fdf2ff 100%);
      color: var(--dark);
      overflow: hidden;
      line-height: 1.6;
    }

    header {
      padding: 15px 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 10;
      border-bottom: 1px solid rgba(255, 255, 255, 0.8);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      color: var(--primary);
      font-size: 1.2rem;
    }

    .logo i {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    #new-session-btn {
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: var(--radius);
      cursor: pointer;
      transition: var(--transition);
      font-size: 0.9rem;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: var(--shadow);
    }

    #new-session-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.15), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    }

    #welcome-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px 15px;
      text-align: center;
      max-width: 800px;
      margin: 0 auto;
    }

    .avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      color: white;
      font-size: 2rem;
      box-shadow: var(--shadow);
    }

    #welcome-message {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      padding: 20px;
      border-radius: var(--radius);
      margin-bottom: 20px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255, 255, 255, 0.8);
      font-size: 1.1rem;
      line-height: 1.7;
      color: var(--dark);
    }

    #welcome-message h1 {
      font-size: 1.8rem;
      margin-bottom: 10px;
      color: var(--primary);
      font-weight: 700;
    }

    #chat-container {
      max-height: 70vh;
      width: 90%;
      margin: 0 auto;
      height: 70vh;
      flex: 1;
      overflow-y: auto;
      padding: 20px 0;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: thin;
      scrollbar-color: var(--primary) transparent;
    }

    #chat-container::-webkit-scrollbar {
      width: 6px;
    }

    #chat-container::-webkit-scrollbar-track {
      background: transparent;
    }

    #chat-container::-webkit-scrollbar-thumb {
      background-color: var(--primary);
      border-radius: 20px;
    }

    #input-container {
      position: relative;
      width: 85%;
      max-width: 800px;
      margin: 0 auto 20px;
      transition: var(--transition);
      z-index: 5;
    }

    #input-container.focused,
    #input-container.has-messages {
      position: sticky;
      bottom: 20px;
      width: 90%;
    }

    #suggestions {
      display: flex;
      flex-wrap: nowrap;
      overflow-x: auto;
      gap: 12px;
      margin-bottom: 15px;
      padding: 10px 5px;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      -ms-overflow-style: none;
      position: relative;
      width: 100%;
    }

    #suggestions::-webkit-scrollbar {
      display: none;
    }

    .suggestion {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 10px 18px;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: var(--shadow);
      font-size: 0.9rem;
      transition: var(--transition);
      flex-shrink: 0;
      display: inline-block;
      color: var(--dark);
      border: 1px solid rgba(255, 255, 255, 0.8);
      font-weight: 500;
    }

    .suggestion:hover {
      transform: translateY(-3px);
      background: white;
      box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.15), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
      color: var(--primary);
    }

    #input-wrapper {
      display: flex;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 10px;
      transition: var(--transition);
      align-items: center;
      border: 1px solid rgba(255, 255, 255, 0.8);
    }

    #input-wrapper:focus-within {
      box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.15), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
      transform: translateY(-2px);
    }

    #message-input {
      flex: 1;
      border: none;
      outline: none;
      padding: 12px 15px;
      font-size: 1rem;
      border-radius: 8px;
      min-width: 0;
      background: transparent;
      color: var(--dark);
    }

    #message-input::placeholder {
      color: var(--gray);
    }

    #send-btn {
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      color: white;
      border: none;
      padding: 12px 22px;
      border-radius: 8px;
      cursor: pointer;
      transition: var(--transition);
      font-size: 1rem;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: var(--shadow);
    }

    #send-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.15), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    }

    .message {
      margin: 15px 0;
      padding: 15px 20px;
      border-radius: var(--radius);
      max-width: 80%;
      width: fit-content;
      animation: fadeIn 0.4s ease-in;
      word-wrap: break-word;
      line-height: 1.6;
      position: relative;
    }

    .message p {
      margin: 8px 0;
    }

    .message strong {
      font-weight: 600;
      color: var(--primary-dark);
    }

    .message em {
      font-style: italic;
      color: var(--gray);
    }

    .message ul,
    .message ol {
      padding-left: 20px;
      margin: 10px 0;
    }

    .message li {
      margin-bottom: 5px;
    }

    .user-message {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      margin-left: auto;
      text-align: left;
      box-shadow: var(--shadow);
      border-top-right-radius: 5px;
    }

    .ai-message {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      margin-right: auto;
      text-align: left;
      border-top-left-radius: 5px;
      border: 1px solid rgba(255, 255, 255, 0.8);
    }

    .message-time {
      font-size: 0.7rem;
      opacity: 0.7;
      margin-top: 8px;
      text-align: right;
    }

    .ai-message .message-time {
      text-align: left;
    }

    #modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(5px);
      z-index: 20;
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease;
    }

    #modal-content {
      background: white;
      padding: 25px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      max-width: 450px;
      width: 90%;
      text-align: center;
      animation: slideUp 0.3s ease;
    }

    #modal-message {
      margin-bottom: 25px;
      font-size: 1.1rem;
      line-height: 1.6;
      color: var(--dark);
    }

    #modal-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
    }

    .modal-btn {
      padding: 10px 25px;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      font-size: 1rem;
      font-weight: 500;
      transition: var(--transition);
    }

    #confirm-btn {
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      color: white;
      box-shadow: var(--shadow);
    }

    #confirm-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.15), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    }

    #cancel-btn {
      background: var(--light-gray);
      color: var(--dark);
    }

    #cancel-btn:hover {
      background: #d1d5db;
    }

    .typing-indicator {
      display: flex;
      padding: 15px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      border-radius: var(--radius);
      width: fit-content;
      margin: 15px 0;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255, 255, 255, 0.8);
      border-top-left-radius: 5px;
    }

    .typing-dot {
      width: 8px;
      height: 8px;
      background: var(--primary);
      border-radius: 50%;
      margin: 0 3px;
      opacity: 0.6;
      animation: typingAnimation 1.4s infinite ease-in-out;
    }

    .typing-dot:nth-child(1) {
      animation-delay: 0s;
    }

    .typing-dot:nth-child(2) {
      animation-delay: 0.2s;
    }

    .typing-dot:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes typingAnimation {

      0%,
      60%,
      100% {
        transform: translateY(0);
        opacity: 0.6;
      }

      30% {
        transform: translateY(-10px);
        opacity: 1;
      }
    }

    @media (max-width: 1024px) {
      #chat-container {
        max-height: 65vh;
      }
    }

    @media (max-width: 768px) {
      #input-container {
        width: 90%;
      }

      #input-container.focused,
      #input-container.has-messages {
        width: 95%;
        bottom: 15px;
      }

      #chat-container {
        padding: 10px 0;
        max-height: 65vh;
        width: 95%;
      }

      #suggestions {
        gap: 8px;
        padding: 8px 0;
      }

      .suggestion {
        padding: 8px 15px;
        font-size: 0.85rem;
      }

      #input-wrapper {
        padding: 8px;
      }

      #message-input {
        padding: 10px 12px;
        font-size: 0.95rem;
      }

      #send-btn {
        padding: 10px 18px;
        font-size: 0.95rem;
      }

      .message {
        max-width: 85%;
        padding: 12px 16px;
        font-size: 0.95rem;
      }

      header {
        padding: 12px 15px;
      }

      #new-session-btn {
        padding: 8px 15px;
        font-size: 0.9rem;
      }

      #welcome-message {
        font-size: 1rem;
        padding: 15px;
      }

      #modal-content {
        padding: 20px;
      }

      #modal-message {
        font-size: 1rem;
      }

      .modal-btn {
        padding: 8px 20px;
        font-size: 0.95rem;
      }
    }

    @media (max-width: 480px) {
      #input-container {
        width: 95%;
      }

      #chat-container {
        padding: 5px 0;
        max-height: 65vh;
        width: 98%;
      }

      #input-container.focused,
      #input-container.has-messages {
        width: 98%;
        bottom: 10px;
      }

      #suggestions {
        gap: 6px;
      }

      .suggestion {
        padding: 7px 12px;
        font-size: 0.8rem;
      }

      #message-input {
        font-size: 0.9rem;
        padding: 8px 10px;
      }

      #send-btn {
        padding: 8px 15px;
        font-size: 0.9rem;
      }

      .avatar {
        width: 60px;
        height: 60px;
        font-size: 1.5rem;
      }

      #welcome-message h1 {
        font-size: 1.5rem;
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="logo">
      <i class="fas fa-robot"></i>
      <span>Farhad's AI Assistant</span>
    </div>
    <button id="new-session-btn">
      <i class="fas fa-plus"></i>
      New Session
    </button>
  </header>

  <div id="welcome-container">
    <div class="avatar">
      <i class="fas fa-user"></i>
    </div>
    <div id="welcome-message">
      <h1>Hello! I'm Farhad's AI Assistant</h1>
      <p>I can help answer questions about Farhad Seyfullazada's experience, skills, projects, and background. Feel free
        to ask me anything or choose from the suggestions below.</p>
    </div>
  </div>

  <div id="chat-container"></div>

  <div id="input-container">
    <div id="suggestions">
      <div class="suggestion" onclick="sendSuggestion('Why should we choose Farhad?')">Why choose Farhad?</div>
      <div class="suggestion" onclick="sendSuggestion('What is Farhad Seyfullazada\'s experience?')">Experience</div>
      <div class="suggestion" onclick="sendSuggestion('What are Farhad Seyfullazada\'s technical skills?')">Technical
        Skills</div>
      <div class="suggestion" onclick="sendSuggestion('What projects has Farhad worked on?')">Projects</div>
      <div class="suggestion" onclick="sendSuggestion('What is Farhad\'s education background?')">Education</div>
      <div class="suggestion" onclick="sendSuggestion('How can I contact Farhad?')">Contact</div>
      <div class="suggestion" onclick="sendSuggestion('What is Farhad\'s LinkedIn?')">LinkedIn</div>
      <div class="suggestion" onclick="sendSuggestion('What is Farhad\'s GitHub?')">GitHub</div>
    </div>
    <div id="input-wrapper">
      <input type="text" id="message-input" placeholder="Ask something about Farhad..." />
      <button id="send-btn">
        <i class="fas fa-paper-plane"></i>
        Send
      </button>
    </div>
  </div>

  <div id="modal">
    <div id="modal-content">
      <div id="modal-message">
        Starting a new session will clear your current conversation. Are you sure you want to continue?
      </div>
      <div id="modal-buttons">
        <button id="confirm-btn" class="modal-btn">Confirm</button>
        <button style="display: none" id="loading-btn" class="modal-btn">Loading...</button>
        <button id="cancel-btn" class="modal-btn">Cancel</button>
      </div>
    </div>
  </div>

  <script>
    const inputContainer = document.getElementById("input-container");
    const messageInput = document.getElementById("message-input");
    const sendBtn = document.getElementById("send-btn");
    const chatContainer = document.getElementById("chat-container");
    const newSessionBtn = document.getElementById("new-session-btn");
    const modal = document.getElementById("modal");
    const confirmBtn = document.getElementById("confirm-btn");
    const cancelBtn = document.getElementById("cancel-btn");
    const welcomeContainer = document.getElementById("welcome-container");
    let sessionActive = false;

    // Load chat history from localStorage on page load
    window.addEventListener("load", () => {
      const savedChat = localStorage.getItem("chatHistory");
      if (savedChat) {
        chatContainer.innerHTML = savedChat;
        welcomeContainer.style.display = "none";
        sessionActive = true;
        updateInputPosition();
      }
      scrollToBottom();
    });

    // Add event listeners
    messageInput.addEventListener("focus", () => {
      inputContainer.classList.add("focused");
      inputContainer.classList.remove("centered");
    });

    messageInput.addEventListener("blur", () => {
      if (chatContainer.children.length > 0) {
        inputContainer.classList.add("has-messages");
      } else {
        inputContainer.classList.remove("focused");
      }
    });

    messageInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        sendMessage();
      }
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        messageInput.blur();
      }
    });

    sendBtn.addEventListener("click", sendMessage);
    newSessionBtn.addEventListener("click", () => {
      modal.style.display = "flex";
    });

    // Function to show typing indicator
    function showTyping() {
      const typingDiv = document.createElement("div");
      typingDiv.classList.add("typing-indicator");
      typingDiv.id = "typing-indicator";

      for (let i = 0; i < 3; i++) {
        const dot = document.createElement("div");
        dot.classList.add("typing-dot");
        typingDiv.appendChild(dot);
      }

      chatContainer.appendChild(typingDiv);
      scrollToBottom();
      return typingDiv;
    }

    // Function to remove typing indicator
    function removeTyping() {
      const typingDiv = document.getElementById("typing-indicator");
      if (typingDiv) {
        typingDiv.remove();
      }
    }

    // Function to save chat to localStorage
    function saveChat() {
      localStorage.setItem("chatHistory", chatContainer.innerHTML);
    }

    // Function to scroll to bottom ensuring last message is fully visible
    function scrollToBottom() {
      const lastMessage = chatContainer.lastElementChild;
      if (lastMessage) {
        lastMessage.scrollIntoView({ behavior: "smooth", block: "end" });
      } else {
        chatContainer.scrollTop = chatContainer.scrollHeight;
      }
    }

    // Function to update input position based on chat content
    function updateInputPosition() {
      if (chatContainer.children.length > 0) {
        inputContainer.classList.add("has-messages");
        welcomeContainer.style.display = "none";
      } else {
        inputContainer.classList.remove("has-messages");
        welcomeContainer.style.display = "flex";
      }
    }

    // Get current time for message timestamp
    function getCurrentTime() {
      const now = new Date();
      return now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    }

    // Simple Markdown formatting function
    function formatMessage(text) {
      let formatted = text
        .replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>") // Bold
        .replace(/\*(.*?)\*/g, "<em>$1</em>") // Italic
        .replace(/`(.*?)`/g, "<code>$1</code>") // Code
        .replace(/\n/g, "<br>"); // Line breaks
      return formatted;
    }

    // Start new session and clear history
    confirmBtn.addEventListener("click", async () => {
      let loadingElement = document.getElementById("loading-btn");
      let thisButton = document.getElementById("confirm-btn");
      loadingElement.style.display = "block";
      thisButton.style.display = "none";

      if (sessionActive) {
        await fetch("https://farhadzada.com/session", {
          method: "DELETE",
          headers: {
            Accept: "application/json",
          },
        });
      }

      try {
        const response = await fetch("https://farhadzada.com/session", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Accept: "application/json",
          },
          body: JSON.stringify({ question: "What is your name?" }),
        });

        if (response.ok) {
          const data = await response.json();
          sessionActive = true;
          chatContainer.innerHTML = "";
          localStorage.removeItem("chatHistory");
          messageInput.value = "";
          inputContainer.classList.remove("focused");
          modal.style.display = "none";
          welcomeContainer.style.display = "flex";
          scrollToBottom();
        }
      } catch (error) {
        console.error("Error starting new session:", error);
      }

      thisButton.style.display = "block";
      loadingElement.style.display = "none";
    });

    cancelBtn.addEventListener("click", () => {
      modal.style.display = "none";
    });

    // Send message and update session
    async function sendMessage() {
      const message = messageInput.value.trim();
      if (!message) return;

      const userMessage = document.createElement("div");
      userMessage.classList.add("message", "user-message");
      userMessage.innerHTML = formatMessage(message);

      const timeSpan = document.createElement("div");
      timeSpan.classList.add("message-time");
      timeSpan.textContent = getCurrentTime();
      userMessage.appendChild(timeSpan);

      chatContainer.appendChild(userMessage);

      updateInputPosition();
      const typingDiv = showTyping();

      try {
        let response = await fetch("https://farhadzada.com/session", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Accept: "application/json",
          },
          body: JSON.stringify({ question: message }),
        });

        if (response.ok) {
          sessionActive = true;
        }

        if (response.ok) {
          const data = await response.json();
          removeTyping();
          const aiMessage = document.createElement("div");
          aiMessage.classList.add("message", "ai-message");
          aiMessage.innerHTML = formatMessage(data.response || "Response from AI");

          const aiTimeSpan = document.createElement("div");
          aiTimeSpan.classList.add("message-time");
          aiTimeSpan.textContent = getCurrentTime();
          aiMessage.appendChild(aiTimeSpan);

          chatContainer.appendChild(aiMessage);
          saveChat();
          scrollToBottom();
        } else {
          throw new Error("API request failed");
        }
      } catch (error) {
        removeTyping();
        const errorMessage = document.createElement("div");
        errorMessage.classList.add("message", "ai-message");
        errorMessage.textContent = "Sorry, there was an error processing your request. Please try again.";

        const errorTimeSpan = document.createElement("div");
        errorTimeSpan.classList.add("message-time");
        errorTimeSpan.textContent = getCurrentTime();
        errorMessage.appendChild(errorTimeSpan);

        chatContainer.appendChild(errorMessage);
        saveChat();
        scrollToBottom();
        console.error("Error sending message:", error);
      }

      messageInput.value = "";
      updateInputPosition();
      saveChat();
    }

    function sendSuggestion(message) {
      messageInput.value = message;
      sendMessage();
    }
  </script>
</body>

</html>